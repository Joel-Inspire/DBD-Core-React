0010 REM "read inventory files, remove old info and write out new info
0210 OPEN (1)"/usr/lib/pvx/z.145/hold/IC0NEW"
0220 OPEN (2)"IC0145"
0230 OPEN (3)"/usr/lib/pvx/z.145/hold/FM1NEW"
0240 OPEN (4)"FM1145"
0250 OPEN (5)"IC1145"
0260 OPEN (6)"/usr/lib/pvx/z.145/hold/IC1NEW"
0270 OPEN (7)"ICF145"
2000 REM "do first read
2030 READ RECORD (1,END=2500)A$
2050 PRINT @(10,10),A$(1,20)
2100 REM "read from ic0 and ic1 file and remove old records
2110 READ (2,KEY=A$(1,20),DOM=2111)B$; IF B$(1,20)<>A$(1,20) THEN GOTO 2111 ELSE REMOVE (2,KEY=A$(1,20))
2130 READ (5,KEY=A$(1,20),DOM=2131)
2140 K$=KEY(5,END=2170)
2150 READ (5,KEY=K$)E$; IF E$(1,20)<>A$(1,20) THEN GOTO 2170 ELSE REMOVE (5,KEY=K$); GOTO 2140
2170 READ (7,KEY=A$(1,20),DOM=2171)
2180 J$=KEY(7,END=2030)
2190 READ (7,KEY=J$)G$; IF G$(1,20)<>A$(1,20) THEN GOTO 2490 ELSE REMOVE (7,KEY=J$); GOTO 2180
2490 GOTO 2030
2500 REM "WRITE OUT NEW INFO TO FILES
2501 ESCAPE 
2520 READ (1,KEY="",DOM=2521)
2550 READ RECORD (1,END=2630)A$
2560 PRINT @(10,12),A$(1,20)
2570 WRITE RECORD (2,KEY=A$(1,20))A$; GOTO 2550
2630 READ RECORD (6,END=2690)A$
2640 PRINT @(10,14),A$(1,20)
2650 WRITE RECORD (5,KEY=A$(1,24))A$; GOTO 2630
2690 GOTO 3000
3000 REM "read new FM1 and remove any old FM1
3010 ESCAPE 
3020 READ RECORD (3,END=3500)AT$
3030 PRINT @(10,16),AT$(1,20)
3040 READ (4,KEY=AT$(1,20),DOM=3020)BT$; IF BT$(1,20)<>AT$(1,20) THEN GOTO 3020 ELSE REMOVE (4,KEY=BT$(1,20)); GOTO 3020
3500 REM "write out fm1 records
3520 READ (3,KEY="",DOM=3521)
3540 READ RECORD (3,END=5000)A$
3550 PRINT @(10,18),A$(1,20)
3560 WRITE RECORD (4,KEY=A$(1,20))A$
3570 GOTO 3540
5000 REM "eoj
5010 ESCAPE 
