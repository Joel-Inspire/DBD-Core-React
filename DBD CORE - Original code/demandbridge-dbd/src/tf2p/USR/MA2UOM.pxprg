0010 REM '(MA2UOM): MAP PACK BASED ON UNITS OF MEASURE
0012 REM 'BYPASSES IF PACK ALREADY SET
0035 REM "5.2 - 09/24/03 - 14.8875 - dmm - SSP# 163697
0040 REM "Copyright 2003 TopForm Software Inc.; Norcross, Georgia
0041 REM "        Licensed Software - All Rights Reserved.
0050 REM 'A(ALL) = INCOMING CONVERSION STRING
0051 REM 'UOM$ = UOM TO EVALUATE
0052 REM 'INDEX = INDEX OF THE POSITION IN A(X) TO REPLACE
0053 REM 'PACKS(1) = FIRST PACK TO USE (2)= SECOND PACK  (3) = ETC. UP TO 4 (IF ALL ZERO THEN SET TO '1'
0100 ENTER X3$,UOM$,A{ALL},INDEX,PACKS{ALL},CA0$,CA1$
0490 PACK=0
0500 IF A[INDEX]<>0 OR STP(UOM$,3," ")="" THEN GOTO 9900
1000 VV=POS(UOM$="M   EACHDZ  ",4); IF VV=0 THEN GOTO 2000
1100 ON INT(VV/4) GOTO 1201,1202,1203
1201 PACK=1000; GOTO 2000
1202 PACK=1; GOTO 2000
1203 PACK=12; GOTO 2000
2000 REM 'IF PACK IS ZERO AND NOT A QUALIFYIN UOM ABOVE THEN SET BASEDON PRIORITY PACKS SENT IN
2010 IF PACK<>0 THEN GOTO 3000
2020 VV=1
2100 WHILE VV<FN%NEA("PACKS",1)
2110 IF PACKS[VV]=0 THEN VV=VV+1; GOTO 2190 ELSE PACK=PACKS[VV]; VV=FN%NEA("PACKS",1)+1
2190 WEND 
2200 IF PACK=0 THEN PACK=1; REM 'NO LOADABLE PACK SO SET TO 1
3000 A[INDEX]=PACK
9950 EXIT 
9999 END 
