0010 REM "Calculate required sectors for files <ZZSECT>
0030 REM "(C) 1985-1989 Basic Ideas, Inc; Atlanta, GA. USA
0035 REM "This software contains trade secrets and proprietary information"
0500 ENTER X3$,K,N,R,S0,S1
1000 REM "CALCULATE FILE SIZES"
1010 IF X3$>"" THEN D=NUM(X3$(31,1)) ELSE D=0
1012 DIM T[2]; S=SSZ(D)
1020 REM "KEYS PER BLOCK"
1030 P0=2,P1=2; IF R=0 THEN P1=0 ELSE IF N>=32767 THEN P1=3
1040 B=INT((256-(1+2*P0))/(K+P0+P1))
1110 T[1]=2*N/B,T[1]=1+SGN(FPT(T[1]))+INT(T[1])
1120 IF T[1]>=32767 AND P0=2 THEN P0=3; GOTO 1040
1200 REM "DATA AREA"
1210 IF R=0 THEN GOTO 1300
1220 R0=-1; IF K=0 AND R>256 THEN R0=19
1230 T[2]=INT((N*R+R0)/S)+1
1300 REM "
1310 S0=T[1]+T[2],S1=S0*S
9900 REM 
9920 EXIT 
9999 END 
