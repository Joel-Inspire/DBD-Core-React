0010 REM "Compare Directories <UT2DSK>
0035 REM "3.4.1 - 05/08/91 - 18.48
0040 REM "Copyright 1991 Computer Software Inc.; Norcross, Georgia
0041 REM "        Licensed Software - All Rights Reserved.
0100 BEGIN 
0105 DIM S$(20)
0110 D9$="UTILS"
0210 PRINT 'CS'
0220 Q$="*SRT"+FID(0); ERASE Q$,ERR=0221; GOTO 0220
0225 CWDIR "/usr/lib/pvx/UTILS"; DIRECT Q$,16,10000,32,8,0; CWDIR HWD
0230 OPEN (1)Q$
0240 INPUT "Enter the first DIRectory (including path): ",D0$
0250 D0=0,D2$=D0$; GOSUB 4000
0300 REM 
0320 INPUT 'LF',"Enter the second DIRectory: ",D0$
0330 D0=1,D1$=D0$; GOSUB 4000
0400 REM 
0410 INPUT "Limit output to 6 character files? (Y/N): ",L0$; IF L0$<>"Y" AND L0$<>"N" THEN GOTO 0410
0450 REM 
0460 INPUT 'LF',"Hard copy? (YES/N): ",L1$; IF L1$<>"N" AND L1$<>"YES" THEN GOTO 0460
0470 IF L1$="YES" THEN OPEN (7)"LP"; L1=7
0960 IF L1<>0 THEN PRINT (L1)'FF'
0990 READ (1,KEY="",DOM=0991)
1000 REM 
1020 READ (1,END=5000)S0$,S[0],S[1]
1040 IF S[0]=S[1] THEN GOTO 1020
1044 Q$=S0$
1045 P=POS("/"=Q$); IF P>0 THEN Q$=Q$(P+1); GOTO 1045
1050 IF L0$="Y" AND LEN(FNS$(Q$))<>6 THEN GOTO 1020
1060 PRINT (L1)S0$,"  ",
1065 IF S[0]=1 THEN PRINT (L1)"Not in ",D1$ ELSE PRINT (L1)"Not in ",D2$
1090 GOTO 1000
4000 REM "CREATE TEMP FILE
4010 Q$="TMP"+FID(0); ERASE Q$,ERR=4011; GOTO 4010
4020 INVOKE "find "+D0$+" -print >"+D9$+"/"+Q$
4040 CLOSE (2); OPEN (2)Q$
4095 A$=""
4100 REM 
4120 P=POS($0A$=A$); IF P=0 THEN READ RECORD (2,END=4200)X$; A$=A$+X$; GOTO 4120
4130 Q$=A$(1,P-1),A$=A$(P+1)
4140 P=POS(D0$=Q$)
4142 IF P<>1 THEN ESCAPE 
4145 Q$=Q$(LEN(D0$)+1)
4150 REM 
4155 R0=R0+1
4160 DIM S0$(16),S[2]; S0$(1)=Q$
4165 READ (1,KEY=S0$(1,16),DOM=4166)S0$,S[0],S[1]
4170 S[D0]=1
4172 IF D0=1 AND S[0]=1 THEN PRINT "*", ELSE PRINT " ",
4175 PRINT @(0),S0$,
4180 WRITE (1,KEY=S0$(1,16))S0$,S[0],S[1]
4195 GOTO 4120
4200 REM "END OF DIRECTORY
4290 RETURN 
5000 REM 
5090 GOTO 9900
8910 DEF FNS$(X$)=X$(1,POS(S$=X$+S$)-1)
9940 RUN "ZMENU"
9999 END 
