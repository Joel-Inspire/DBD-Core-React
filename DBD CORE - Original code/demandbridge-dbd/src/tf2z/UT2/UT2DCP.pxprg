0010 REM "Compare disk DIRectories <UT2CMP>
0100 BEGIN 
0110 PRINT 'CS',
0120 INPUT @(0,1),"'OLD' Directory name: ",A$,
0125 OPEN (1,ERR=0120)A$
0130 INPUT @(0,2),"'NEW' Directory name: ",B$,
0135 OPEN (2,ERR=0130)B$
0136 GOSUB 7500
0139 C0$=""
0140 INPUT (0,ERR=0140)@(0,4),"Hardcopy? ",C$:("Y"=0145,"y"=0145,"N"=0150,"n"=0150)
0145 C0$="*"; OPEN (3,ERR=0140)"LP"; GOTO 0160
0150 C0$=""; OPEN (3)FID(0)
0200 REM "Spacing
0205 REM "X is pos, X0 is spacing width, X2=center of page, X3=max width of page, Y = y pos on page, Y0 = # lines on a page
0210 IF C0$="*" THEN GOTO 0250
0220 X0=20,X2=40,X3=79,Y0=20
0240 GOTO 0300
0250 REM "Printer
0260 X0=22,X2=66,X3=120,Y0=60
0300 REM 
0305 IF D$="D" THEN H$="Differences between DIRectory "+A$+" and DIRectory "+B$ ELSE H$="Files on both DIRectory "+A$+" and DIRectory "+B$
0310 GOSUB 6000
1000 REM "Print differences
1005 IF D$="S" THEN GOTO 1500
1010 GOSUB 7000
1020 GOSUB 7050
1050 IF A0$=B0$ THEN GOTO 1010
1060 IF A0$>B0$ THEN GOSUB 5000; GOSUB 7050; GOTO 1050
1070 IF A0$<B0$ THEN GOSUB 5050; GOSUB 7000; GOTO 1050
1500 REM "Print simialirites
1510 GOSUB 7000
1520 GOSUB 7050
1550 IF A0$=B0$ THEN GOSUB 5100; GOTO 1510
1560 IF A0$>B0$ THEN GOSUB 7050; GOTO 1550
1570 IF A0$<B0$ THEN GOSUB 7000; GOTO 1550
2000 REM "End of file 1
2004 IF D$="S" THEN GOTO 2060
2005 B0$=KEY(2,END=2050)
2010 GOSUB 7050
2020 GOSUB 5000
2030 GOTO 2010
2050 REM "End
2060 GOTO 9900
3000 REM "End of file 2
3004 IF D$="S" THEN GOTO 3060
3005 A0$=KEY(1,END=3050)
3010 GOSUB 7000
3020 GOSUB 5050
3030 GOTO 3010
3050 REM "End
3060 GOTO 9900
5000 REM "Add B0$
5005 IF X>X3 THEN GOSUB 6500
5010 PRINT (3)@(X),"   Add ",B0$,
5020 X=X+X0
5040 RETURN 
5050 REM "Delete A0$
5055 IF X>X3 THEN GOSUB 6500
5060 PRINT (3)@(X),"Delete ",A0$,
5070 X=X+X0
5090 RETURN 
5100 REM "A0$=B0$
5105 IF X>X3 THEN GOSUB 6500
5110 PRINT (3)@(X),A0$,
5120 X=X+X0
5140 RETURN 
6000 REM "Heading"
6010 IF C0$="*" THEN GOTO 6050
6020 INPUT @(0,21),"Return to continue or 'END' to end: ",I$,
6025 IF I$="end" OR I$="END" THEN EXITTO 9900
6030 PRINT (3)'CS',
6050 REM 
6055 Y=0,X=0
6065 PRINT (3)@(0),DAY,@(X2-INT(LEN(H$)/2)),H$,@(X3-6),INT(TIM),":",FPT(TIM)*60:"00",'LF'
6070 Y=Y+2
6090 RETURN 
6500 REM "Next line
6505 X=0,Y=Y+1
6510 IF Y>Y0 THEN GOSUB 6000 ELSE PRINT (3)""
6540 RETURN 
7000 REM "Get next A0$ from DIR A$
7010 A0$=KEY(1,END=7011); READ (1); GOTO 7020
7011 EXITTO 2000
7020 A0$=A0$(1,8)
7040 RETURN 
7050 REM "Get next B0$ from DIR B$
7060 B0$=KEY(2,END=7061); READ (2); GOTO 7070
7061 EXITTO 3000
7070 B0$=B0$(1,8)
7090 RETURN 
7500 REM "alike or different?
7510 INPUT (0,ERR=7510)@(0,3),"List differnces or similiarites? ",D$:("D"=7540,"d"=7515,"S"=7540,"s"=7520)
7515 D$="D"; GOTO 7540
7520 D$="S"; GOTO 7540
7540 RETURN 
9900 REM "End
9910 PRINT (3,ERR=9911)'LF',"End of job"
9915 IF C0$="*" THEN PRINT (3)'FF',
