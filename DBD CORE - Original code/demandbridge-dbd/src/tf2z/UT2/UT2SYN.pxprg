0010 REM "UT2SYN -Sync System Files
0035 REM "3.8 - 12/19/94 - 15.48 - wmz
0040 REM "Copyright 1994 Computer Software Inc.; Norcross, Georgia
0041 REM "        Licensed Software - All Rights Reserved.
0050 BEGIN 
0060 INPUT 'CS',"1=Copy/2=Restore",A$; IF POS(A$="12")=0 THEN GOTO 0060
0070 INPUT "File Name (1=ZZE/2=ZZF/3=ZZL): ",B$; IF POS(B$="123")=0 THEN GOTO 0070
0080 F$="ZZEZZFZZL",G$="zzezzfzzl",F1$=F$(3*(NUM(B$)-1)+1,3),F2$=G$(3*(NUM(B$)-1)+1,3)
0110 IF A$="1" THEN OPEN (1)F1$; OPEN (2)F2$ ELSE OPEN (1)F2$; OPEN (2)F1$
0200 IF A$<>"1" THEN GOTO 1000
0210 INPUT "CLEAR WORK FILE? (Y/N): ",Q$; IF POS(Q$="YN")=0 THEN GOTO 0210 ELSE IF Q$="Y" THEN CALL "ZZINIT","02"; PRINT F2$," CLEARED"
0300 INPUT "ENTER TOPFORM FILE NAME TO COPY: ",T$; IF LEN(T$)<1 THEN GOTO 0300
0400 INPUT "CONTINUE (Y/N/Restart)",Q$; IF Q$="N" THEN GOTO 0300 ELSE IF Q$="R" THEN GOTO 0001 ELSE IF Q$<>"Y" THEN GOTO 0400
0600 READ (1,KEY=T$,DOM=0601)
0700 K$=KEY(1,END=0990); READ RECORD (1,KEY=K$)R$
0720 IF T$<>K$(1,LEN(T$)) THEN GOTO 0990
0740 PRINT K$
0800 WRITE RECORD (2,KEY=K$)R$
0890 GOTO 0700
0990 PRINT "EOF - CR TO CONTINUE ",; INPUT *; GOTO 0300
1000 REM RESTORE
1100 READ (1,KEY=T$,DOM=1101)
1120 K$=KEY(1,END=1990); READ RECORD (1,KEY=K$)R$
1140 IF B$="2" THEN IF T1$<>K$(1,3) THEN GOSUB 2000
1150 PRINT "Addiing key: ",K$
1160 WRITE RECORD (2,KEY=K$)R$
1180 GOTO 1120
1990 PRINT "EOF - CR TO CONTINUE ",; INPUT *; GOTO 0001
2000 REM 
2020 PRINT "RECORDS BEGINNING WITH THIS FILE NAME WILL BE RESTORED: ",K$(1,3)
2040 INPUT "1=MERGE, 2=REPLACE ",Q1$; IF POS(Q1$="12")=0 THEN GOTO 2020
2060 T1$=K$(1,3)
2080 IF Q1$<>"2" THEN RETURN 
2100 READ (2,KEY=T1$,DOM=2101)
2120 K1$=KEY(2,END=2190)
2130 IF T1$<>K1$(1,3) THEN GOTO 2190
2135 PRINT "Removed key: ",K1$
2140 REMOVE (2,KEY=K1$)
2160 GOTO 2120
2190 RETURN 
9999 END 
